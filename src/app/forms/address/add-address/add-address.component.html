<div class="container">
    <div class="row">
        <div class="col-md-12">
            <form (submit)="addAddress()" [formGroup]="addressForm">
                <div class="form-group mr-sm-2">
                    <label for="addressDet"> Address Details </label>
                    <textarea
                        formControlName="addressDet"
                        id="addressDet"
                        (blur)="logValidationErrors()"
                        [ngClass]="{'form-control': true,
                                    'is-invalid': formMessage.addressDet != '',
                                    'is-valid': addressForm.get('addressDet').dirty && formMessage.addressDet == ''}"></textarea>
                    
                    <div class="invalid-feedback">
                        {{formMessage.addressDet}}
                    </div>
                </div>
                <div class="form-group mr-sm-2">
                    <label for="addressContact"> Contact </label>
                    <input
                        type="number"
                        formControlName="addressContact"
                        id="addressContact"
                        (blur)="logValidationErrors()"
                        [ngClass]="{'form-control': true}">
                </div>
                <div class="form-group mr-sm-2">
                    <label for="state"> State </label>
                    <input
                        type="text"
                        formControlName="state"
                        id="state"
                        (blur)="logValidationErrors()"
                        [ngClass]="{'form-control': true}">
                </div>
                <div class="form-group mr-sm-2">
                    <label for="stateCode"> State Code</label>
                    <input
                        type="text"
                        formControlName="stateCode"
                        id="stateCode"
                        (blur)="logValidationErrors()"
                        [ngClass]="{'form-control': true}">
                </div>
                <button 
                    class="btn btn-primary"
                    type="submit"
                    [disabled]="!addressForm.valid">Add Address</button>
            </form>

            <br>

            <div *ngIf="formMessage.insertError != ''">
                <alert 
                    [type]="'danger'" 
                    [dismissible]="false">
                    {{ formMessage.insertError }}
                </alert>
            </div>
            
            <div *ngIf="formMessage.successMessage != ''">
                <alert 
                    [type]="'success'" 
                    [dismissible]="false">
                    {{ formMessage.successMessage }}
                </alert>
            </div>
        </div>
    </div>
</div>